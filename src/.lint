#/bin/sh

DIR=$( cd -P -- "$(dirname -- "$(command -v -- "$0")")" && pwd -P )
FILE_LIST="$(find "${DIR}" \
		-type d \( \
			-path "${DIR}/.git" \
			-o -path "${DIR}/build" \
			-o -path "${DIR}/include" \
		\) -prune \
		-o -type f \( \
			-name '*.ino' \
			-o -name '*.cc' \
			-o -name '*.cpp' \
			-o -name '*.c' \
			-o -name '*.h' \
			-o -name '*.hpp' \
			-o -name '*.hh' \
		\) -print
)"

clang-format -style="file:${DIR}/.clang-format" -i --verbose ${FILE_LIST}
